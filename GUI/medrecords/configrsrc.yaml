################################################################################
#
#   RESOURCE
#
#   This section defines the values to encode in 
#   order to produce a proper resource.
#
################################################################################

resource:

    # The Resource id is used for identifying this Resource instance.
    id: 5246977
    # Meta is a set of metadata that provides technical and workflow context to the resource
    meta:
      # VersionID references data about the current version of the resource
      versionId:
        # use is the purpose of the versionID
        # usual | official | temp | secondary | old
        use: official
        # type is a description of the versionID
        # null when system is known
        type: null
        # system is a URL that represents the namespace for the value
        # if value is full URI, urn:ietf:rfc:3986
        system: urn:ietf:rfc:3986
        # value is the portion of the ID relevant to the user
        value: URL
        # period  is the time period during which ID is/was valid
        period:
          #start is the time at which versionID becomes valid
          start: 2019-01-13
          # end is the time at which versionID becomes invalid
          end: 2020-01-13
        #assigner is the organization that managaes/issued the versionID
        assigner:
          #reference is absolute/relative URL to assigner
          reference: <reference value = "Practitioner/0982"
          # id is the assigner's identification
          id: 0982
          # type is the assigner's type (http://www.hl7.org/fhir/valueset-resource-types.html)
          type: Practitioner
          # display is plain text that describes the assigner
          display: Doctor John Screecham
      # lastUpdated is the instant (YYYY-MM-DDThh:mm:ss+zz:zz) at which
      # the resource was last updated
      lastUpdated: 2019-01-20T14:28:36.442+09:00
      # source is the URI identifying the source system of resource
      source: URI
      #security is an audit event that validates the resource
      security:
        # type is an identifier of an event
        # see https://www.hl7.org/fhir/valueset-audit-event-type.html
        type:
        # subtype is a more specific identifier
        # see https://www.hl7.org/fhir/valueset-audit-event-sub-type.html
        subtype:
        # action is the type of action performed during the event
        # see https://www.hl7.org/fhir/valueset-audit-event-action.html
        action:
        # period is when the activity occurred
        period:
          # start is when the activity started
          start:
          # end is when the activity ended
          end:
        # recorded is the instant when the event recorded
        # format as YYYY-MM-DDThh:mm:ss.sss+zz:zz 
        recorded: 
        # outcome is whether the event succeeded or failed
        # see https://www.hl7.org/fhir/valueset-audit-event-outcome.html
        outcome: 
        # outcomeDesc is a description of the outcome
        outcomeDesc:
        # purpose is the purpose of the event
        # see https://www.hl7.org/fhir/v3/PurposeOfUse/vs.html
        purpose:
        # agent is an actor involved in the event
        agent:
          # type is how the agent participated
          # see https://www.hl7.org/fhir/valueset-participation-role-type.html
          type:
          # role is the agent's role in the event 
          # see https://www.hl7.org/fhir/valueset-security-role-type.html
          role:
          # who is a reference to a practitionerrole | practitioner | 
          # organization | device | patient | relatedperson
          who:
            #reference is absolute/relative URL to who
            reference: <reference value = "Practitioner/0982"
            # id is the who's identification
            id: 
            # type is who's type (http://www.hl7.org/fhir/valueset-resource-types.html)
            type: 
            # display is plain text that describes who
            display: 
          # altId is an alternative user identity (string)
          altId:
          # name is a human-friendly name for the agent
          name: 
          # requestor is a boolean that describes whether the agent is initiator
          requestor:
          # location describes where the event occurred
          location: 
            #reference is absolute/relative URL to location
            reference: 
            # id is the location's identification
            id: 
            # type is location's type (http://www.hl7.org/fhir/valueset-resource-types.html)
            type: 
            # display is plain text that describes location
            display: 
          # policy is the policy that authorized the event (URI)
          policy:
          # media is the type of media
          # see https://www.hl7.org/fhir/valueset-dicm-405-mediatype.html
          media:
          # network is the logical network loc. for application activity 
          network:
            # address is a string that identifies the network access point
            address: 
            # type is the type of network access point
            # see https://www.hl7.org/fhir/valueset-network-type.html
            type: 
          # purpose is the reason given for the agent
          # see https://www.hl7.org/fhir/v3/PurposeOfUse/vs.html
          purpose:
        # source is the event reporter
        source:
          # site is a string that describes the logical source location
          # within the enterprise
          site:
          # observer is a reference to the identity o fsource detecting the event
          # PractitionerRole | Practitioner | Organization | Device | Patient | RelatedPerson
          observer:
          # type is the type of source where the event originated
          # see https://www.hl7.org/fhir/valueset-audit-source-type.html
          type:
        # entity is the data or objects used during the event
        entity:
          # what is a reference to a specific instance of resource
          what: 
            #reference is absolute/relative URL to what
            reference: 
            # id is what's identification
            id: 
            # type is what's type (http://www.hl7.org/fhir/valueset-resource-types.html)
            type: 
            # display is plain text that describes what
            display: 
          # type is the type of entity involved
          # see https://www.hl7.org/fhir/valueset-audit-entity-type.html
          type:
          # role is the role of the entity
          # see https://www.hl7.org/fhir/valueset-object-role.html
          role:
          # lifecycle is the stage of the entity 
          # see https://www.hl7.org/fhir/valueset-object-lifecycle-events.html
          lifecycle:
          # secLabel describes the security labels on the entity
          # see https://www.hl7.org/fhir/valueset-security-labels.html
          secLabel:
          # name is a string that is a descriptor for the entity
          name:
          # description is text describing the entity
          description:
          # query is a byte stream of query parameters
          query:
          # detail is additional information about the entity
          detail:
            # type is the name of the property
            type:
            # value is the property value (string or byte stream)
            value:
    # observation holds measurements, assertions, and their associated metadata
    observation: 
      # id is an identifier for the observation
      # would this be the same as the resource id?
      id: 5246977
      # status: registered | preliminary | final | amended | corrected
      #           | cancelled | entered-in-error | unknown
      status: final
      # category is the type of observation
      # http://www.hl7.org/fhir/valueset-observation-category.html
      category: imaging
      # effective is the instant the observation was performed
      # format: YYYY-MM-DDThh:mm:ss.ss+zz:zz
      effective: 2019-01-13T00:00:00+09:00
      # value is the resource of the observation
      # in this case is a media resource
      value: 
        # identifier is an identifier for the image
        identifier: 
          # use is the purpose of the identifier
          # usual|official|temp|secondary|old
          use:
          # type is a description of the ID
          # null when system known
          type: 
          # system is a URL that represents namespace for the value
          # if value is a full URI, system is  urn:ietf:rfc:3986
          system:
          # value is the portion of the ID relevant to the user
          value: 
          # period is the time period during which ID is/was valid
          period:
            # start is the start time of the period
            start:
            # end is the end time of the period
            end: 
          # assigner is the organization that manages/issued the ID
          assigner:
        # basedOn is the procedure that caused this media to be created
        basedOn:
          # reference is absolute/relative URL to the basis of the image
          reference: URI
          # id is the basis' identification
          id: 670003
          # type is the basis type (http://www.hl7.org/fhir/valueset-resource-types.html)
          #  e.g. ServiceRequest | CarePlan
          type: ServiceRequest
          # display is plain text that describes the basis
          display: 'request for imaging of patient 33348'
        # partOf describes the event
        partOf:
          # reference is absolute/relative URL to the event
          reference: URI
          # id is the event's identification
          id: 3625
          # type is the event type (http://www.hl7.org/fhir/valueset-resource-types.html)
          #  e.g. MedicationAdministration, Procedure, Immunization, ImagingStudy   
          type: ImagingStudy
          # display is plain text that describes the event
          display: 'xray image of patient 33348s chest'
        # status is the status of the image
        # preparation | in-progress | not-done | suspended | aborted | completed | entered-in-error | unknown
        status: 
        # type is the classification of the media as image | video | audio
        type:
        # modality is the type of acquisition equipment/process
        #   see https://www.hl7.org/fhir/valueset-media-modality.html
        modality: 
        # view is the imaging view of the media 
        #   see https://www.hl7.org/fhir/valueset-media-view.html
        view:
        # subject is who/what the media is a record of
        subject:
          # reference is absolute/relative URL to the subject
          reference: <reference value = "Patient/33348">
          # id is the subject's identification
          id: 33348
          # type is the subject type 
          #  Patient | Practitioner | PractitionerRole | Group | Device | Specimen | Location
          type: Patient
          # display is plain text that describes the subject
          display: Karen Barton
        # encounter is the encounter associated with media
        # interaction b/w patient and healthcare provider(s)
        encounter: 
          # reference is absolute/relative URL to the encounter
          reference: <reference value = "Appointment/648">
          # id is the encounter's identification
          id: 648
          # type is encounter
          type: Encounter
          # display is plain text that describes the encounter
          display: 3rd appointment between Ms. Barton and Dr. Reeves
        # created is the time when the media was collected
        #   in the format YYYY, YYYY-MM, YYYY-MM-DD or YYYY-MM-DDThh:mm:ss+zz:zz
        created: 
        # issued is the instant this version was made available
        issued:
        # operator is the resource who generated the image
        operator:
          # reference is absolute/relative URL to the operator
          reference: <reference value = "Practitioner/992992">
          # id is the operator's identification
          id: 992992
          # type is the type of reference
          # Practitioner | PractitionerRole | Organization | CareTeam | Patient | Device | RelatedPerson
          type: Practitioner
          # display is plain text that describes the encounter
          display: Nurse Hamilton
        # reasonCode is the reason the event was performed
        #   see https://www.hl7.org/fhir/valueset-procedure-reason.html
        reasonCode: 
        # bodySite is the observed body part
        #   see https://www.hl7.org/fhir/valueset-body-site.html
        bodySite: 
        # deviceName is a string describing the device/manufacturer
        deviceName:
        # device is a reference to the observing device
        device:
          # reference is absolute/relative URL to the device
          reference: <reference value = "Device/112">
          # id is the device's identification
          id: 112
          # type is the type of reference
          # Device | DeviceMetric
          type: Device 
          # display is plain text that describes the encounter
          display: 1.5 Tesla 70cm Wide Bore MRI Machine
        # height is the height of the image in pixels
        # 0 if not a photo/video
        height:
        # width is the width of the image in pixels
        # 0 if not a photo/video
        width: 
        # frames is the number of frames in the media
        # 0 if not a photo
        frames:
        # duration is the length in seconds of the media
        # 0 if not audio or video
        duration:
        # content is a hash of the actual media
        content: QmSbVB3XGnksVBzDKT7otes6KfrzHfQJtRTdD7NWwmvGsE
        # note is a comment about the media
        note: 'xray requires doctor approval'

